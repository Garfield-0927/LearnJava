# Chapter 30 多线程

### 30.1 线程的概念

#### 30.1.1 程序、进程和线程

- 程序：一个静态的对象，内含指令和数据的文件，存储在磁盘或其他存储设备中
- 进程：一个动态的对象，是程序的一个执行过程，存在于系统内存中。一个进程对应于一个程序
- 线程：运行于某个进程中，用于完成某个具体任务的顺序控制流程，**程序中完成一个任务的有始有终的执行流，都有一个执行的起点，经过一系列指令后到达终点。**

![image-20210519173606301](assets\image-20210519173606301.png)

​		不同进程的内存空间是隔离的，因此进程1中的变量i与进程2中的变量i属于不同的内存空间。进程切换和进程间通信开销大。进程间交换数据只能通过：共享内存、管道、消息队列、Socket通信等机制

​		一个进程里的线程切换开销小的多，因为它们位于同一内存空间里。线程1、2线程位于同一内存空间使得线程之间数据交换非常容易。变量i可以被线程1、2访问（但要考虑同步）。因此线程又叫轻量级进程

​		**当一个进程被创建，自动地创建了一个主线程。因此，一个进程至少有一个主线程。**



#### 30.1.2 线程作用

- 一个进程的多个子线程可以**并发运行**。
- 多线程可以使程序 反应更快、交互性更强、执行效率更高。
- 应用：Server端程序，GUI程序
  - Server端的程序，都是需要启动多个线程来处理大量来自客户端的请求
  - GUI程序：GUI线程：处理UI消息循环，如鼠标消息、键盘消息；Worker线程：后台的数据处理工作，比如打印文件，大数据量的运算



### 30.2 Runnable接口和Thread线程类

### 30.3 线程池

### 30.4 线程同步

### 30.5 信号量

### 30.6 同步合集